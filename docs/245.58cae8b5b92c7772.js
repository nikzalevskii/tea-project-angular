"use strict";(self.webpackChunktea_angular=self.webpackChunktea_angular||[]).push([[245],{2245:(M,a,l)=>{l.r(a),l.d(a,{OrderModule:()=>B});var m=l(6895),i=l(646),o=l(433);class d{static nameValidator(t){return/^[?!,.a-zA-Z\u0430-\u044f\u0410-\u042f\u0451\u0401\s]+$/.test(t.value)?null:{name:{value:t.value}}}static phoneValidator(t){return/^\+?\d{11,}$/.test(t.value)?null:{phone:{value:t.value}}}static addressValidator(t){return/^[\u0430-\u044f\u0410-\u042f\u0451\u0401a-zA-Z0-9\s/-]+$/.test(t.value)?null:{address:{value:t.value}}}}var u=l(8256),_=l(4691);function p(r,t){1&r&&(u.TgZ(0,"h1",3),u._uU(1,"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0437\u0430\u043a\u0430\u0437\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430."),u.qZA())}function f(r,t){1&r&&(u.TgZ(0,"h2",7),u._uU(1,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA())}function v(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e "),u.qZA())}function g(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),u.qZA())}function h(r,t){if(1&r&&(u.TgZ(0,"div",34),u.YNc(1,v,2,0,"div",35),u.YNc(2,g,2,0,"div",35),u.qZA()),2&r){const e=u.oxw(3);let n;u.xp6(1),u.Q6J("ngIf",null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.required),u.xp6(1),u.Q6J("ngIf",null!==(n=!(null!=e.lastName&&null!=e.lastName.errors&&e.lastName.errors.required))&&void 0!==n?n:null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.name)}}function x(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f "),u.qZA())}function Z(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),u.qZA())}function C(r,t){if(1&r&&(u.TgZ(0,"div",34),u.YNc(1,x,2,0,"div",35),u.YNc(2,Z,2,0,"div",35),u.qZA()),2&r){const e=u.oxw(3);let n;u.xp6(1),u.Q6J("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.required),u.xp6(1),u.Q6J("ngIf",null!==(n=!(null!=e.name&&null!=e.name.errors&&e.name.errors.required))&&void 0!==n?n:null==e.name||null==e.name.errors?null:e.name.errors.name)}}function O(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d "),u.qZA())}function A(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u041c\u0438\u043d\u0438\u043c\u0443\u043c 11 \u0446\u0438\u0444\u0440. \u041c\u043e\u0436\u043d\u043e + \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 "),u.qZA())}function T(r,t){if(1&r&&(u.TgZ(0,"div",34),u.YNc(1,O,2,0,"div",35),u.YNc(2,A,2,0,"div",35),u.qZA()),2&r){const e=u.oxw(3);let n;u.xp6(1),u.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.required),u.xp6(1),u.Q6J("ngIf",null!==(n=!(null!=e.phone&&null!=e.phone.errors&&e.phone.errors.required))&&void 0!==n?n:null==e.phone||null==e.phone.errors?null:e.phone.errors.phone)}}function y(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443 "),u.qZA())}function b(r,t){if(1&r&&(u.TgZ(0,"div",34),u.YNc(1,y,2,0,"div",35),u.qZA()),2&r){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",null==e.country||null==e.country.errors?null:e.country.errors.required)}}function q(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0434\u0435\u043a\u0441 "),u.qZA())}function N(r,t){if(1&r&&(u.TgZ(0,"div",34),u.YNc(1,q,2,0,"div",35),u.qZA()),2&r){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",null==e.zip||null==e.zip.errors?null:e.zip.errors.required)}}function F(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 "),u.qZA())}function E(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u0410\u0434\u0440\u0435\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u043a\u0440\u043e\u043c\u0435 \u0431\u0443\u043a\u0432, \u0446\u0438\u0444\u0440, \u043f\u0440\u043e\u0431\u0435\u043b\u0430, - \u0438 / "),u.qZA())}function I(r,t){if(1&r&&(u.TgZ(0,"div",34),u.YNc(1,F,2,0,"div",35),u.YNc(2,E,2,0,"div",35),u.qZA()),2&r){const e=u.oxw(3);let n;u.xp6(1),u.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.required),u.xp6(1),u.Q6J("ngIf",null!==(n=!(null!=e.address&&null!=e.address.errors&&e.address.errors.required))&&void 0!==n?n:null==e.address||null==e.address.errors?null:e.address.errors.phone)}}function U(r,t){if(1&r){const e=u.EpF();u.TgZ(0,"form",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"label",12),u._uU(5,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(6,"input",13),u.qZA()(),u.TgZ(7,"div",10)(8,"div",11)(9,"label",14),u._uU(10,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(11,"input",15),u.qZA()(),u.TgZ(12,"div",10)(13,"div",11)(14,"label",16),u._uU(15,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(16,"input",17),u.YNc(17,h,3,2,"div",18),u.qZA()(),u.TgZ(18,"div",10)(19,"div",11)(20,"label",19),u._uU(21,"\u0418\u043c\u044f"),u.qZA(),u._UZ(22,"input",20),u.YNc(23,C,3,2,"div",18),u.qZA()(),u.TgZ(24,"div",21)(25,"div",11)(26,"label",22),u._uU(27,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(28,"input",23),u.YNc(29,T,3,2,"div",18),u.qZA()(),u.TgZ(30,"div",24)(31,"div",11)(32,"label",25),u._uU(33,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(34,"input",26),u.YNc(35,b,2,1,"div",18),u.qZA()(),u.TgZ(36,"div",27)(37,"div",11)(38,"label",28),u._uU(39,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(40,"input",29),u.YNc(41,N,2,1,"div",18),u.qZA()(),u.TgZ(42,"div",30)(43,"div",11)(44,"label",31),u._uU(45,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(46,"input",32),u.YNc(47,I,3,2,"div",18),u.qZA()()(),u.TgZ(48,"button",33),u.NdJ("click",function(){u.CHM(e);const s=u.oxw(2);return u.KtG(s.createOrder())}),u._uU(49,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),u.qZA()()}if(2&r){const e=u.oxw(2);u.Q6J("formGroup",e.orderForm),u.xp6(17),u.Q6J("ngIf",(null==e.lastName?null:e.lastName.invalid)&&((null==e.lastName?null:e.lastName.dirty)||(null==e.lastName?null:e.lastName.touched))),u.xp6(6),u.Q6J("ngIf",(null==e.name?null:e.name.invalid)&&((null==e.name?null:e.name.dirty)||(null==e.name?null:e.name.touched))),u.xp6(6),u.Q6J("ngIf",(null==e.phone?null:e.phone.invalid)&&((null==e.phone?null:e.phone.dirty)||(null==e.phone?null:e.phone.touched))),u.xp6(6),u.Q6J("ngIf",(null==e.country?null:e.country.invalid)&&((null==e.country?null:e.country.dirty)||(null==e.country?null:e.country.touched))),u.xp6(6),u.Q6J("ngIf",(null==e.zip?null:e.zip.invalid)&&((null==e.zip?null:e.zip.dirty)||(null==e.zip?null:e.zip.touched))),u.xp6(6),u.Q6J("ngIf",(null==e.address?null:e.address.invalid)&&((null==e.address?null:e.address.dirty)||(null==e.address?null:e.address.touched))),u.xp6(1),u.Q6J("disabled",!e.orderForm.valid)}}function J(r,t){if(1&r&&(u.TgZ(0,"div",4),u.YNc(1,f,2,0,"h2",5),u.YNc(2,U,50,8,"form",6),u.qZA()),2&r){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",!e.isError),u.xp6(1),u.Q6J("ngIf",!e.isError)}}function Y(r,t){1&r&&(u.TgZ(0,"h2",37),u._uU(1,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437"),u.qZA())}const z=[{path:"",component:(()=>{class r{constructor(e,n,s,D){this.fb=e,this.router=n,this.httpService=s,this.activatedRoute=D,this.isError=!1,this.subscription=null,this.subscriptionOrder=null,this.isOrdered=!1,this.orderForm=this.fb.group({name:["",{validators:[o.kI.required,d.nameValidator],updateOn:"blur"}],last_name:["",{validators:[o.kI.required,d.nameValidator],updateOn:"blur"}],phone:["",{validators:[o.kI.required,d.phoneValidator],updateOn:"blur"}],country:["",[o.kI.required]],zip:["",[o.kI.required]],product:["",[o.kI.required]],address:["",{validators:[o.kI.required,d.addressValidator],updateOn:"blur"}],comment:[""]})}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscriptionOrder?.unsubscribe()}ngOnInit(){this.isOrdered=!1,this.subscription=this.activatedRoute.queryParams.subscribe(e=>{e.product_title&&this.orderForm.patchValue({product:e.product_title})})}createOrder(){this.subscriptionOrder=this.httpService.createOrder({name:this.orderForm.value.name,last_name:this.orderForm.value.last_name,phone:this.orderForm.value.phone,country:this.orderForm.value.country,zip:this.orderForm.value.zip,product:this.orderForm.value.product,address:this.orderForm.value.address,comment:this.orderForm.value.comment}).subscribe({next:e=>{e&&e.success?this.isOrdered=!0:alert("\u041e\u0448\u0438\u0431\u043a\u0430")},error:e=>{this.isError=!0,this.orderForm.reset(),setTimeout(()=>{this.isError=!1},3e3)}})}get name(){return this.orderForm.get("name")}get lastName(){return this.orderForm.get("last_name")}get phone(){return this.orderForm.get("phone")}get country(){return this.orderForm.get("country")}get zip(){return this.orderForm.get("zip")}get address(){return this.orderForm.get("address")}get comment(){return this.orderForm.get("comment")}}return r.\u0275fac=function(e){return new(e||r)(u.Y36(o.qu),u.Y36(i.F0),u.Y36(_.O),u.Y36(i.gz))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-order"]],decls:3,vars:3,consts:[["class","error-order",4,"ngIf"],["class","form container my-4 w-50 ",4,"ngIf"],["class","ordered",4,"ngIf"],[1,"error-order"],[1,"form","container","my-4","w-50"],["class","form__text text-center my-4",4,"ngIf"],["novalidate","","class","d-flex flex-column justify-content-between form_to_fill","id","order",3,"formGroup",4,"ngIf"],[1,"form__text","text-center","my-4"],["novalidate","","id","order",1,"d-flex","flex-column","justify-content-between","form_to_fill",3,"formGroup"],[1,"row","d-flex","align-items-center"],[1,"col-12","col-md-6","col-lg-6"],[1,"mb-4"],["for","product_title",1,"form-label"],["readonly","","formControlName","product","type","text","id","product_title",1,"form-control"],["for","comment",1,"form-label"],["formControlName","comment","type","text","id","comment",1,"form-control"],["for","surname",1,"form-label"],["formControlName","last_name","type","text","id","surname",1,"form-control"],["class","form-block",4,"ngIf"],["for","name",1,"form-label"],["formControlName","name","type","text","id","name",1,"form-control"],[1,"col-12","col-md-6","col-lg-4"],["for","phone",1,"form-label"],["formControlName","phone","type","tel","id","phone",1,"form-control"],[1,"col-12","col-md-4"],["for","country",1,"form-label"],["formControlName","country","type","text","id","country",1,"form-control"],[1,"col-12","col-lg-4"],["for","index",1,"form-label"],["formControlName","zip","type","text","id","index",1,"form-control"],[1,"col-12"],["for","address",1,"form-label"],["formControlName","address","type","text","id","address",1,"form-control"],["type","submit","id","button",1,"btn","form-button","btn-primary","hvr-shrink",2,"width","140px",3,"disabled","click"],[1,"form-block"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"ordered"]],template:function(e,n){1&e&&(u.YNc(0,p,2,0,"h1",0),u.YNc(1,J,3,2,"div",1),u.YNc(2,Y,2,0,"h2",2)),2&e&&(u.Q6J("ngIf",n.isError),u.xp6(1),u.Q6J("ngIf",!n.isOrdered),u.xp6(1),u.Q6J("ngIf",n.isOrdered))},dependencies:[m.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;flex-grow:1}.ordered[_ngcontent-%COMP%]{text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.error-order[_ngcontent-%COMP%]{text-align:center;color:#540202;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.form-block[_ngcontent-%COMP%]{position:relative}.text-danger[_ngcontent-%COMP%]{color:red;position:absolute;top:0;left:0;font-size:12px}.ng-invalid.ng-touched[_ngcontent-%COMP%], .ng-invalid.ng-dirty[_ngcontent-%COMP%]{border-color:red}"]}),r})()}];let c=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[i.Bz.forChild(z),i.Bz]}),r})();var Q=l(4466);let B=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[m.ez,Q.m,i.Bz,o.UX,c,c]}),r})()}}]);