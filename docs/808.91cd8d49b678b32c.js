"use strict";(self.webpackChunktea_angular=self.webpackChunktea_angular||[]).push([[808],{808:(S,s,e)=>{e.r(s),e.d(s,{ProductsModule:()=>M});var u=e(6895),i=e(646),a=e(8505),g=e(2619),t=e(8256),p=e(4691),f=e(3763);const h=function(o){return["/products",o]};let m=(()=>{class o{constructor(){}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["product-card"]],inputs:{product:"product"},decls:9,vars:6,consts:[[1,"collection__card","card"],["alt","card1",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","fs-5"],[1,"card-text","fw-bold"],[1,"btn","card-body-btn","btn-primary","w-50",3,"routerLink"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"p",3),t._uU(4),t.qZA(),t.TgZ(5,"h2",4),t._uU(6),t.qZA(),t.TgZ(7,"a",5),t._uU(8,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()),2&n&&(t.xp6(1),t.s9C("src",c.product.image,t.LSH),t.xp6(3),t.hij("",c.product.price," \u0440\u0443\u0431."),t.xp6(2),t.Oqu(c.product.title),t.xp6(1),t.Q6J("routerLink",t.VKq(4,h,c.product.id)))},dependencies:[i.yS],styles:[".collection__card[_ngcontent-%COMP%]{height:100%}"]}),o})();function P(o,r){1&o&&(t.TgZ(0,"h2",6),t._uU(1,"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),t.qZA())}function C(o,r){if(1&o&&(t.TgZ(0,"h2",7),t._uU(1),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Oqu(n.title)}}function b(o,r){1&o&&t._UZ(0,"product-card",8),2&o&&t.Q6J("product",r.$implicit)}function x(o,r){1&o&&(t.TgZ(0,"div",9),t._UZ(1,"div",10),t.qZA())}function v(o,r){1&o&&(t.TgZ(0,"div",10),t._UZ(1,"div",11),t.qZA())}const y=function(o){return{product_title:o}},O=[{path:"",component:(()=>{class o{constructor(n,c,d){this.httpService=n,this.router=c,this.searchService=d,this.loading=!1,this.products=[],this.productSubscription=null,this.title="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438",this.searchSubscription=null,this.notFound=!1}ngOnDestroy(){this.searchService.clearSearchQuery(),this.searchSubscription?.unsubscribe()}ngOnInit(){this.loading=!0,this.notFound=!1,this.searchSubscription=this.searchService.searchQuery$.subscribe(n=>{this.fetchProducts(n),this.updateTitle(n)})}fetchProducts(n){this.notFound=!1,this.loading=!0;let c=g.T;n&&(c+=`?search=${n}`),this.productSubscription=this.httpService.searchProducts(c).pipe((0,a.b)(()=>{this.loading=!1})).subscribe({next:d=>{this.products=d,this.products.length||(this.notFound=!0)},error:d=>{this.router.navigate(["/"])}})}updateTitle(n){this.title=n?`\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "${n}"`:"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(p.O),t.Y36(i.F0),t.Y36(f.o))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],decls:6,vars:4,consts:[[1,"collections","container"],["class","not-found-product collections__text my-5 text-center",4,"ngIf"],["class","collections__text my-5 text-center",4,"ngIf"],[1,"row","collection","row-gap-4","d-flex"],["class","col-6 col-md-6 col-xl-4",3,"product",4,"ngFor","ngForOf"],["class","loader-bg",4,"ngIf"],[1,"not-found-product","collections__text","my-5","text-center"],[1,"collections__text","my-5","text-center"],[1,"col-6","col-md-6","col-xl-4",3,"product"],[1,"loader-bg"],[1,"loader"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0),t.YNc(1,P,2,0,"h2",1),t.YNc(2,C,2,1,"h2",2),t.TgZ(3,"div",3),t.YNc(4,b,1,1,"product-card",4),t.qZA(),t.YNc(5,x,2,0,"div",5),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",c.notFound),t.xp6(1),t.Q6J("ngIf",!c.notFound),t.xp6(2),t.Q6J("ngForOf",c.products),t.xp6(1),t.Q6J("ngIf",c.loading))},dependencies:[u.sg,u.O5,m],styles:[".loader-bg[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;left:0;display:flex;align-items:center;justify-content:center;background-color:#00000080}.loader-bg[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{border:15px solid #f3f3f3;border-top:15px solid #c296ec;border-radius:50%;width:120px;height:120px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.not-found-product[_ngcontent-%COMP%]{position:absolute;text-align:center;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),o})()},{path:":id",component:(()=>{class o{constructor(n,c,d){this.activatedRoute=n,this.httpService=c,this.router=d,this.loading=!1,this.product={description:"",id:0,image:"",price:0,title:""}}ngOnInit(){this.loading=!0,this.activatedRoute.params.subscribe(n=>{n.id&&this.httpService.getProducts().pipe((0,a.b)(()=>{this.loading=!1})).subscribe({next:c=>{const d=c.find(T=>T.id===+n.id);d&&(this.product=d)},error:c=>{this.router.navigate(["/"])}})})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(i.gz),t.Y36(p.O),t.Y36(i.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product"]],decls:14,vars:9,consts:[[1,"product-block","bg-light"],[1,"collection__card","card","product-card"],["alt","card1",1,"card-img-top","product-card-img",3,"src"],[1,"card-body","product-card-block"],[1,"card-title","fs-5","product-card-price"],[1,"card-text","fw-bold","product-card-title"],[1,"card-text","product-card-description"],[1,"product-card-action"],[1,"btn","card-body-btn","btn-primary","w-50","product-card-btn",3,"routerLink","queryParams"],["class","loader-bg",4,"ngIf"],[1,"loader-bg"],[1,"loader"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"p",4),t._uU(5),t.qZA(),t.TgZ(6,"h2",5),t._uU(7),t.qZA(),t.TgZ(8,"p",6),t._uU(9),t.qZA(),t.TgZ(10,"div",7)(11,"a",8),t._uU(12,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()(),t.YNc(13,v,2,0,"div",9),t.qZA()()),2&n&&(t.xp6(2),t.s9C("src",c.product.image,t.LSH),t.xp6(3),t.hij("",c.product.price," \u0440\u0443\u0431."),t.xp6(2),t.Oqu(c.product.title),t.xp6(2),t.Oqu(c.product.description),t.xp6(2),t.Q6J("routerLink","/order")("queryParams",t.VKq(7,y,c.product.title)),t.xp6(2),t.Q6J("ngIf",c.loading))},dependencies:[u.O5,i.yS],styles:[".product-block[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{max-width:900px;display:flex;justify-content:center;align-items:center;margin:0 auto}.product-block[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-img[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.product-block[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-block[_ngcontent-%COMP%]   .product-card-description[_ngcontent-%COMP%]{font-size:13px}.product-block[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-block[_ngcontent-%COMP%]   .product-card-action[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-block[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-block[_ngcontent-%COMP%]   .product-card-action[_ngcontent-%COMP%]   .product-card-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;max-width:200px}.loader-bg[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;left:0;display:flex;align-items:center;justify-content:center;background-color:#00000080}.loader-bg[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{border:15px solid #f3f3f3;border-top:15px solid #c296ec;border-radius:50%;width:120px;height:120px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),o})()}];let l=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[i.Bz.forChild(O),i.Bz]}),o})();var Z=e(4466);let M=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,Z.m,i.Bz,l,l]}),o})()}}]);